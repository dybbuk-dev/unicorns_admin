"use strict";(self.webpackChunkCrypto_Unicorns_Admin=self.webpackChunkCrypto_Unicorns_Admin||[]).push([[1612],{89994:function(n,e,r){var t=r(93433),a=r(36834),i=r(10499),o=r(70816),l=r.n(o),u=r(55558),s={generic:function(n){return a.nK().label(n)},string:function(n,e){e=e||{};var r=a.Z_().transform((function(n,e){return""===e?null:n})).nullable(!0).trim().label(n);return e.required&&(r=r.required()),(e.min||0===e.min)&&(r=r.min(e.min)),e.max&&(r=r.max(e.max)),e.matches&&(r=r.matches(e.matches)),r},boolean:function(n,e){return a.Xg().default(!1).label(n)},relationToOne:function(n,e){e=e||{};var r=a.nK().nullable(!0).label(n).transform((function(n,e){return e?e.id:null}));return e.required&&(r=r.required()),r},stringArray:function(n,e){e=e||{};var r=a.IX().compact().ensure().of(a.Z_().transform((function(n,e){return""===e?null:n})).trim()).label(n);return(e.required||e.min)&&(r=r.required()),e.min||0===e.min?r=r.min(e.min):e.required&&(r=r.min(1)),e.max&&(r=r.max(e.max)),r},relationToMany:function(n,e){e=e||{};var r=a.IX().nullable(!0).label(n).transform((function(n,e){return e&&e.length?e.map((function(n){return n.id})):[]}));return(e.required||e.min)&&(r=r.required()),e.min||0===e.min?r=r.min(e.min):e.required&&(r=r.min(1)),e.max&&(r=r.max(e.max)),r},integer:function(n,e){e=e||{};var r=a.Rx().transform((function(n,e){return""===e?null:n})).integer().nullable(!0).label(n);return e.required&&(r=r.required()),(e.min||0===e.min)&&(r=r.min(e.min)),e.max&&(r=r.max(e.max)),r},images:function(n,e){e=e||{};var r=a.IX().nullable(!0).label(n);return(e.required||e.min)&&(r=r.required()),e.min||0===e.min?r=r.min(e.min):e.required&&(r=r.min(1)),e.max&&(r=r.max(e.max)),r},files:function(n,e){e=e||{};var r=a.IX().compact().ensure().nullable(!0).label(n);return(e.required||e.min)&&(r=r.required()),e.min||0===e.min?r=r.min(e.min):e.required&&(r=r.min(1)),e.max&&(r=r.max(e.max)),r},enumerator:function(n,e){e=e||{};var r=a.Z_().transform((function(n,e){return""===e?null:n})).label(n).nullable(!0).oneOf([null].concat((0,t.Z)(e.options||[])));return e.required&&(r=r.required((0,i.ag)("validation.string.selected"))),r},email:function(n,e){e=e||{};var r=a.Z_().transform((function(n,e){return""===e?null:n})).nullable(!0).trim().label(n).email();return e.required&&(r=r.required()),(e.min||0===e.min)&&(r=r.min(e.min)),e.max&&(r=r.max(e.max)),e.matches&&(r=r.matches(e.matches)),r},decimal:function(n,e){e=e||{};var r=a.Rx().transform((function(n,e){return""===e?null:n})).nullable(!0).label(n);return e.required&&(r=r.required()),(e.min||0===e.min)&&(r=r.min(e.min)),e.max&&(r=r.max(e.max)),r},datetime:function(n,e){e=e||{};var r=a.nK().nullable(!0).label(n).transform((function(n,e){return n?l()(e,u.Bx).toISOString():null}));return e.required&&(r=r.required()),r},date:function(n,e){e=e||{};var r=a.nK().nullable(!0).label(n).test("is-date",(0,i.ag)("validation.mixed.default"),(function(n){return!n||l()(n,u.eM).isValid()})).transform((function(n){return n?l()(n).format(u.eM):null}));return e.required&&(r=r.required()),r}};e.Z=s},98040:function(n,e,r){var t=r(76747),a=function(n){return n.tenant.form},i=(0,t.P1)([a],(function(n){return n.record})),o={selectInitLoading:(0,t.P1)([a],(function(n){return Boolean(n.initLoading)})),selectSaveLoading:(0,t.P1)([a],(function(n){return Boolean(n.saveLoading)})),selectRecord:i,selectRaw:a};e.Z=o},42735:function(n,e,r){r.d(e,{Z:function(){return c}});var t=r(1413),a=r(45987),i=r(47313),o=r(48106),l=(0,r(88564).ZP)(o.Z)((function(n){var e=n.theme,r=n.ownerState,a=e.palette,i=e.functions,o=r.error,l=r.success,u=r.disabled,s=a.grey,d=a.transparent,c=a.error,m=a.success,f=i.pxToRem;return(0,t.Z)((0,t.Z)({backgroundColor:u?"".concat(s[200]," !important"):d.main,pointerEvents:u?"none":"auto"},o&&{backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23F44335' viewBox='0 0 12 12'%3E%3Ccircle cx='6' cy='6' r='4.5'/%3E%3Cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3E%3Ccircle cx='6' cy='8.2' r='.6' fill='%23F44335' stroke='none'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right ".concat(f(12)," center"),backgroundSize:"".concat(f(16)," ").concat(f(16)),"& .Mui-focused":{"& .MuiOutlinedInput-notchedOutline, &:after":{borderColor:c.main}},"& .MuiInputLabel-root.Mui-focused":{color:c.main}}),l&&{backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 8'%3E%3Cpath fill='%234CAF50' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right ".concat(f(12)," center"),backgroundSize:"".concat(f(16)," ").concat(f(16)),"& .Mui-focused":{"& .MuiOutlinedInput-notchedOutline, &:after":{borderColor:m.main}},"& .MuiInputLabel-root.Mui-focused":{color:m.main}})})),u=r(46417),s=["error","success","disabled"],d=(0,i.forwardRef)((function(n,e){var r=n.error,i=n.success,o=n.disabled,d=(0,a.Z)(n,s);return(0,u.jsx)(l,(0,t.Z)((0,t.Z)({},d),{},{ref:e,ownerState:{error:r,success:i,disabled:o}}))}));d.defaultProps={error:!1,success:!1,disabled:!1};var c=d},61567:function(n,e,r){r(47313);var t=r(85281),a=r(60357),i=r(46417);function o(n){var e=n.size,r=(0,a.Q)().sidenavColor;return(0,i.jsx)("div",{style:{width:"100%",marginTop:e/2+"px",marginBottom:e/2+"px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,i.jsx)(t.Z,{color:r,size:e})})}o.defaultProps={size:40},e.Z=o},49384:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(15671),a=r(43144),i=function(){function n(){(0,t.Z)(this,n)}return(0,a.Z)(n,null,[{key:"errorMessage",value:function(n,e,r,t){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(i)return i;if(!t&&!r[n])return null;var o=e[n];return(null===o||void 0===o||null===(a=o[0])||void 0===a?void 0:a.message)||(null===o||void 0===o?void 0:o.message)||o||null}}]),n}()},56148:function(n,e,r){var t=r(29439),a=r(47313),i=r(43270),o=r(49384),l=r(72686),u=r(42735),s=r(53649),d=r(46417);function c(n){var e=n.autoComplete,r=n.autoFocus,c=n.disabled,m=n.endAdornment,f=n.externalErrorMessage,g=n.forceValue,v=(n.fullWidth,n.hint),x=(n.id,n.label),p=n.margin,h=n.name,b=n.placeholder,Z=n.readOnly,q=n.required,j=n.shrink,C=n.size,y=n.startAdornment,k=n.type,w=n.value,I=n.variant,S=(0,i.Gc)(),E=S.control.defaultValuesRef,M=S.errors,P=S.formState,L=P.touched,z=P.isSubmitted,B=S.getValues,R=S.register,A=S.setValue,O=E.current||{},V=B(h),F=(0,a.useState)(V||w||O[h]||""),_=(0,t.Z)(F,2),T=_[0],U=_[1];g&&A(h,w,{shouldValidate:!1,shouldDirty:!0}),(0,a.useEffect)((function(){R({name:h})}),[R,h]),(0,a.useEffect)((function(){g&&U(w)}),[w]);var X=o.Z.errorMessage(h,M,L,z,f);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.Z,{id:h,name:h,type:k,label:x,required:q,onChange:function(e){g||A(h,e.target.value,{shouldValidate:!1,shouldDirty:!0}),U(e.target.value),n.onChange&&n.onChange(e.target.value)},onBlur:function(e){n.onBlur&&n.onBlur(e)},margin:p,fullWidth:!0,variant:I,size:C,placeholder:b||void 0,autoFocus:r||void 0,autoComplete:e||void 0,InputLabelProps:{shrink:j},error:Boolean(X),helperText:v,InputProps:{startAdornment:y,endAdornment:m},inputProps:{name:h,readOnly:Z},disabled:c,value:T}),X&&(0,d.jsx)(l.Z,{mt:.75,children:(0,d.jsx)(s.Z,{component:"div",variant:"caption",color:"error",fontWeight:"regular",children:X})})]})}c.defaultProps={forceValue:!1,readOnly:!1,required:!1,type:"text"},e.Z=c},68160:function(n,e,r){r.d(e,{A:function(){return i}});var t=r(259),a=(0,t.ZP)("div")({paddingTop:0,paddingBottom:0}),i=(0,t.ZP)("div")({paddingTop:"8px",paddingBottom:"8px",marginLeft:"-4px",marginRight:"-4px",display:"flex","& > *":{margin:"4px"}});e.Z=a},11612:function(n,e,r){r.r(e),r.d(e,{default:function(){return A}});var t=r(29439),a=r(47313),i=r(1413),o=r(9019),l=r(11198),u=r(83121),s=r(49930),d=r(43270),c=r(10499),m=r(68160),f=r(56148),g=r(36834),v=r(89994),x=r(86430),p=r(1354),h=r(41727),b=r(67357),Z=r(60357),q=r(64760),j=r(46417),C=g.Ry().shape({name:v.Z.string((0,c.ag)("tenant.fields.tenantName"),{required:!0,max:50}),url:v.Z.string((0,c.ag)("tenant.fields.tenantUrl"),{required:!0,max:50}).matches(/^[a-z0-9][-a-zA-Z0-9]*$/,(0,c.ag)("tenant.validation.url"))}),y=g.Ry().shape({name:v.Z.string((0,c.ag)("tenant.fields.tenantName"),{required:!0,max:50})}),k=p.w.isEnabled?C:y;var w=function(n){var e=(0,Z.Q)(),r=e.sidenavColor,g=e.darkMode,v=(0,a.useState)((function(){return n.record||{name:""}})),C=(0,t.Z)(v,1)[0],y=(0,d.cI)({resolver:(0,b.X)(k),mode:"onSubmit",defaultValues:C}),w=function(e){var r;n.onSubmit(null===(r=n.record)||void 0===r?void 0:r.id,e)},I=n.saveLoading,S=n.modal;return(0,j.jsx)(m.Z,{children:(0,j.jsx)(d.RV,(0,i.Z)((0,i.Z)({},y),{},{children:(0,j.jsxs)("form",{onSubmit:y.handleSubmit(w),children:[(0,j.jsxs)(o.ZP,{spacing:2,container:!0,children:[(0,j.jsx)(o.ZP,{item:!0,lg:7,md:8,sm:12,xs:12,children:(0,j.jsx)(f.Z,{name:"name",label:(0,c.ag)("tenant.fields.name"),required:!0,variant:"standard",autoFocus:!0})}),p.w.isEnabled&&(0,j.jsx)(o.ZP,{item:!0,lg:7,md:8,sm:12,xs:12,children:(0,j.jsx)(f.Z,{name:"url",label:(0,c.ag)("tenant.fields.tenantUrl"),required:!0,variant:"standard",endAdornment:(0,j.jsxs)(h.Z,{position:"end",sx:{color:(g?"white":"inherit")+" !important",pr:5},children:[".",x.Z.frontendUrl.host]})})})]}),(0,j.jsxs)(m.A,{style:{flexDirection:S?"row-reverse":void 0},children:[(0,j.jsx)(q.Z,{variant:"gradient",color:r,disabled:I,type:"button",onClick:y.handleSubmit(w),startIcon:(0,j.jsx)(u.Z,{}),size:"small",children:(0,c.ag)("common.save")}),(0,j.jsx)(q.Z,{variant:"outlined",color:r,disabled:I,onClick:function(){Object.keys(C).forEach((function(n){y.setValue(n,C[n])}))},type:"button",startIcon:(0,j.jsx)(s.Z,{}),size:"small",children:(0,c.ag)("common.reset")}),n.onCancel?(0,j.jsx)(q.Z,{variant:"outlined",color:r,disabled:I,onClick:function(){return n.onCancel()},type:"button",startIcon:(0,j.jsx)(l.Z,{}),size:"small",children:(0,c.ag)("common.cancel")}):null]})]})}))})},I=r(3538),S=r(51853),E=r(98040),M=r(45788),P=r(63830),L=r(61567),z=r(73428),B=r(72686),R=r(53649);var A=function(){var n=(0,M.I0)(),e=(0,a.useState)(!1),r=(0,t.Z)(e,2),i=r[0],o=r[1],l=(0,P.$B)(),u=(0,M.v9)(E.Z.selectInitLoading),s=(0,M.v9)(E.Z.selectSaveLoading),d=(0,M.v9)(E.Z.selectRecord),m=Boolean(l.params.id);(0,a.useEffect)((function(){n(S.Z.doInit(l.params.id)),o(!0)}),[n,l.params.id]);var f=m?(0,c.ag)("tenant.edit.title"):(0,c.ag)("tenant.new.title");return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(z.Z,{children:(0,j.jsxs)(B.Z,{py:3,px:3,children:[(0,j.jsx)(B.Z,{pb:3,display:"flex",justifyContent:"space-between",alignItems:"flex-start",children:(0,j.jsx)(R.Z,{variant:"h3",children:f})}),u&&(0,j.jsx)(L.Z,{}),i&&!u&&(0,j.jsx)(w,{saveLoading:s,initLoading:u,record:d,isEditing:m,onSubmit:function(e,r){n(m?S.Z.doUpdate(e,r):S.Z.doCreate(r))},onCancel:function(){return(0,I.s1)().push("/tenant")}})]})})})}}}]);